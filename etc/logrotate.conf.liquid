# Rotate log files weekly
weekly
minsize 10M

# Create new (empty) log files after rotating old ones
create 644 {{ user }} {{ user }}

# Keep log files for 8 weeks
rotate 8

# Compress old log files by default
compress 

###
# Rotate production log file
###
{{ medusa_home }}/log/production.log {
    # Don't throw an error if its missing
    missingok

    # Don't rotate if empty
    notifempty
}

###
# Rotate delayed job log
###
{{ medusa_home }}/log/delayed_job.log {
    missingok
    notifempty	
    daily
    minsize 50M
}

###
# Rotate passenger log file
###
{{ medusa_home }}/log/passenger.3000.log {
    missingok
    notifempty	
}

###
# Rotate oink log file
###
{{ medusa_home }}/log/oink.log {
    missingok
    notifempty	
}

{{ medusa_home }}/log/message_receiver.rb.log {
    missingok
    notifempty
    size 100M						     
}

###
# Rotate ruby-fits-server log files
###
{{ fits_server_home }}/log/ruby-fits-server.log {
    missingok
    notifempty	
    size 100M
}
